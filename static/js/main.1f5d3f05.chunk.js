(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{26:function(e,t,a){e.exports=a(41)},39:function(e,t,a){},41:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(21),l=a.n(c),i=a(6),o=a(25),s=a(5),m={ADD_TO_CART:"ADD_TO_CART",UPDATE_CART:"UPDATE_CART",REMOVE_FROM_CART:"REMOVE_FROM_CART",SAVE_CART:"SAVE_CART"},u=function(){return Math.random().toString(34).slice(2)};var p=function(e){localStorage.setItem("products",JSON.stringify(e))},g={products:null!==JSON.parse(localStorage.getItem("products"))?JSON.parse(localStorage.getItem("products")):[]};var d=Object(o.a)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m.ADD_TO_CART:return Object.assign({},e,{products:[].concat(Object(s.a)(e.products),[t.payload])});case m.UPDATE_CART:return console.log("product : ".concat(t.payload.id)),Object.assign({},e,{products:e.products.map(function(e){return e.id===t.payload.id?Object.assign({},e,{quantity:t.payload.quantity}):e})});case m.REMOVE_FROM_CART:return Object.assign({},e,{products:e.products.filter(function(e){return e.id!==t.payload})});case m.SAVE_CART:return p(t.payload.product),e;default:return e}}),f=(a(39),a(7)),E=a(0),b=a(3),y=function(e){var t=e.filter,a=e.setFiltering,n=Object(i.d)(function(e){return e.products});return r.a.createElement("nav",{className:" orange navbar navbar-expand-lg navbar-light bg-light fixed-top"},r.a.createElement("div",{className:"container-fluid justify-content-between"},r.a.createElement(f.c,{to:"/",className:"navbar-brand crimson"},r.a.createElement("i",{className:"fas fa-shopping-cart me-1"}),"Supamarket"),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},r.a.createElement("form",{className:"d-flex mt-2 ms-auto"},r.a.createElement("input",{className:"form-control me-2",type:"search",placeholder:"Search","aria-label":"Search",onChange:function(e){a(e.target.value.length>0),t(e.target.value)}})),r.a.createElement("div",{className:"menu-right mx-3"},r.a.createElement(f.c,{to:"/cart"},r.a.createElement("i",{className:"fa-solid fa-basket-shopping fa-2x grey"})),r.a.createElement("span",{className:"badge rounded-pill bg-success"},n.length>0&&n.length)))))},h=function(e){var t=e.product,a=t.id,c=t.quantity,l=t.details,o=Object(n.useState)(c),s=Object(b.a)(o,2),u=s[0],p=s[1],g=Object(i.c)(),d=function(e){"increment"===e&&p(u+1),"decrement"===e&&p(u-1)};Object(n.useEffect)(function(){g(function(e,t){return{type:m.UPDATE_CART,payload:{id:e,quantity:t}}}(a,u))},[u,g,a]);var f=function(e){var t;g((t=e,{type:m.REMOVE_FROM_CART,payload:t}))};return r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("img",{width:"70",height:"70",src:"../assets/".concat(l.category,"/").concat(l.image),alt:l.name})),r.a.createElement("td",null,l.ref),r.a.createElement("td",null,l.price),r.a.createElement("td",null,r.a.createElement("div",{className:"btn-group",role:"group","aria-label":"Basic example"},r.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(){u>1&&d("decrement")}},"-"),r.a.createElement("span",{className:"btn btn-light"},u),r.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(){d("increment")}},"+"))),r.a.createElement("td",null,"\u20ac",(c*l.price).toFixed(2)),r.a.createElement("td",null,r.a.createElement("button",{type:"button",className:"btn btn-danger remove",onClick:function(){f(a)}},"X")))},v=function(e){var t=e.products;return r.a.createElement("div",null,r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{width:"200"},"Product"),r.a.createElement("th",{width:"80"},"Reference"),r.a.createElement("th",{width:"150"},"Price"),r.a.createElement("th",{width:"150"},"Quantity"),r.a.createElement("th",{width:"200"},"Total"))),r.a.createElement("tbody",null,t.map(function(e){return r.a.createElement(h,{product:e})}))))},N=function(){var e=Object(i.d)(function(e){return e.products}),t=Object(n.useState)(0),a=Object(b.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)(0),s=Object(b.a)(o,2),m=s[0],u=s[1];return Object(n.useEffect)(function(){var t=e.map(function(e){return e.quantity*e.details.price});l(t.reduce(function(e,t){return e+t},0)),u(c+10)},[e,c,m]),r.a.createElement("div",{className:"container"},r.a.createElement(y,null),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm cart"},r.a.createElement(v,{products:e})),r.a.createElement("div",{className:"col-sm-3 order-summary"},r.a.createElement("ul",{className:"list-group"},r.a.createElement("li",{className:"list-group-product"},"Order Summary"),r.a.createElement("li",{className:"list-group-product"},r.a.createElement("ul",{className:"list-group flex"},r.a.createElement("li",{className:"text-left"},"Subtotal"),r.a.createElement("li",{className:"text-right"},"\u20ac",c.toFixed(2))),r.a.createElement("ul",{className:"list-group flex"},r.a.createElement("li",{className:"text-left"},"shipping"),r.a.createElement("li",{className:"text-right"},"\u20ac",10..toFixed(2))),r.a.createElement("ul",{className:"list-group flex"},r.a.createElement("li",{className:"coupon crimson"},r.a.createElement("small",null,"  Add Coupon Code")))),r.a.createElement("li",{className:"list-group-product "},r.a.createElement("ul",{className:"list-group flex"},r.a.createElement("li",{className:"text-left"},"Total"),r.a.createElement("li",{className:"text-right"},"\u20ac",0===c?"0.00":m.toFixed(2))))),r.a.createElement(f.b,{to:"/checkout",className:"white btn btn-light btn-block checkout bg-crimson ".concat(!e.length&&"disabled")},"Checkout"))))},_=a(24),C=Object(n.createContext)({firstName:"",lastName:"",email:"",address:"",zipCode:"",city:"",setUserProfileContext:function(e){}}),O=function(e){var t=e.children,a={firstName:"",lastName:"",email:"",address:"",zipCode:"",city:"",setUserProfileContext:function(e){return o(function(t){return Object(_.a)({},t,{firstName:e.firstName,lastName:e.lastName,email:e.email,address:e.address,zipCode:e.zipCode,city:e.city})})}},c=Object(n.useState)(a),l=Object(b.a)(c,2),i=l[0],o=l[1];return r.a.createElement(C.Provider,{value:i},t)},x=function(){var e=Object(n.useState)(!1),t=Object(b.a)(e,2),a=t[0],c=t[1],l=Object(n.useContext)(C),i=(l.firstName,l.lastName,l.email,l.address,l.zipCode,l.city,l.setUserProfileContext);return Object(n.useEffect)(function(){!function(){var e=[];document.querySelectorAll(".form-control").forEach(function(t){t.value?e.length&&e.pop():e.push(t)}),c(!e.length)}()}),r.a.createElement("div",null,r.a.createElement("div",{className:"col-sm-6 offset-3"},r.a.createElement("h2",null,"Checkout"),r.a.createElement("br",null),r.a.createElement("form",null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("input",{type:"text",className:"form-control",placeholder:"First name",property:"",defaultValue:"",onChange:function(e){i({firstName:e.target.value})}})),r.a.createElement("div",{className:"col"},r.a.createElement("input",{type:"text",className:"form-control",placeholder:"Last name",property:"",defaultValue:"",onChange:function(e){i({lastName:e.target.value})}}))),r.a.createElement("br",null),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"email",className:"form-control",id:"exampleInputEmail1",placeholder:"Email address",property:"",defaultValue:""}),r.a.createElement("small",{id:"emailHelp",className:"form-text text-muted"},"We'll never share your email with anyone else.")),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",className:"form-control",id:"exampleInputEmail1",placeholder:"Address",property:"",defaultValue:""})),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("input",{type:"text",className:"form-control",placeholder:"Postal Code",property:"",defaultValue:""})),r.a.createElement("div",{className:"col"},r.a.createElement("input",{type:"text",className:"form-control",placeholder:"City",property:"",defaultValue:""}))),r.a.createElement("br",null),r.a.createElement("a",{href:"/",className:"".concat(!a&&"disabled","checkout white btn btn-light btn-lg btn-block bg-crimson")},"Confirm"))))},k=function(e){var t=e.product,a=Object(n.useState)(1),c=Object(b.a)(a,2),l=c[0],o=c[1],s=Object(i.c)(),p=function(e,t){s(function(e,t){return{type:m.ADD_TO_CART,payload:{id:u(),quantity:t,details:e}}}(e,t))};return r.a.createElement("div",{class:"modal fade",id:t.ref,tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},r.a.createElement("div",{class:"modal-dialog modal-dialog-centered"},r.a.createElement("div",{class:"modal-content"},r.a.createElement("div",{class:"modal-header"},r.a.createElement("h5",{class:"modal-title",id:"exampleModalLabel"},t.name),r.a.createElement("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})),r.a.createElement("div",{class:"modal-body"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-4 me-2"},r.a.createElement("img",{width:"170",height:"170",src:"../assets/".concat(t.category,"/").concat(t.image),alt:t.name})),r.a.createElement("div",{className:"col-sm d-flex flex-column justify-content-center align-items-center "},r.a.createElement("p",null,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Fugit omnis optio assumenda?"),r.a.createElement("h4",null," \u20ac",t.price,"/",t.unit),r.a.createElement("div",{className:"btn-group ",role:"group","aria-label":"Basic example"},r.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(){return o(l>1?l-1:1)}},"-"),r.a.createElement("span",{className:"btn btn-light qty"},l),r.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(){return o(l+1)}},"+"))))),r.a.createElement("div",{class:"modal-footer  d-flex  justify-content-center "},r.a.createElement("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close"),r.a.createElement("button",{type:"button",class:"btn btn-primary",onClick:function(){return p(t,l)}},"Add to cart")))))},j=function(e){var t=e.product,a=e.count;return r.a.createElement("div",{className:"col-sm-4"},r.a.createElement("div",{className:"card"},r.a.createElement("img",{width:"170",height:"170",src:"../assets/".concat(t.category,"/").concat(t.image),alt:t.name}),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("h4",null,t.name)),r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("p",null,"\u20ac",t.price,"/",t.unit),r.a.createElement("button",{className:"btn btn-warning btn-sm","data-bs-toggle":"modal","data-bs-target":"#".concat(t.ref)},"view product"))))),r.a.createElement(k,{product:t,count:a}))},S=function(e){var t=e.grocery,a=e.updateCart;return r.a.createElement("div",{className:"col-sm"},r.a.createElement("div",{className:"row"},t.map(function(e,t){return r.a.createElement(j,{key:t,product:e,updateCart:a})})))},w=function(e){var t=e.loadCategory,a=e.category;return r.a.createElement("div",{className:"col-sm-2 sidebar"},r.a.createElement("ul",null,["Fruits","L\xe9gumes","Produits Frais","\xc9picerie","Boissons"].map(function(e,n){return r.a.createElement("li",{className:a===n&&"active",key:n,onClick:function(){return t(n)}},e)})))},A=[[{ref:"fruits_1",category:0,name:"Citrons",price:.99,unit:"pi\xe8ce",image:"citron.png"},{ref:"fruits_2",category:0,name:"Citrons Vert",price:1.99,unit:"pi\xe8ce",image:"lime.png"},{ref:"fruits_3",category:0,name:"Fraises",price:2.99,unit:"kg",image:"fraise.png"},{ref:"fruits_4",category:0,name:"Noix de coco",price:3.99,unit:"pi\xe8ce",image:"coconut.png"},{ref:"fruits_5",category:0,name:"Cl\xe9mentine",price:3.99,unit:"kg",image:"clementine.png"},{ref:"fruits_6",category:0,name:"Figues",price:5.99,unit:"kg",image:"figues.png"},{ref:"fruits_7",category:0,name:"Raisins",price:4.59,unit:"kg",image:"grapes.png"},{ref:"fruits_8",category:0,name:"Kiwi",price:4.99,unit:"kg",image:"kiwi.png"},{ref:"fruits_9",category:0,name:"Poires",price:3.49,unit:"kg",image:"poires.png"}],[{ref:"legumes_1",category:1,name:"Oignons",price:.99,unit:"kg",image:"oignons.png"},{ref:"legumes_2",category:1,name:"Poivrons",price:2.99,unit:"kg",image:"poivrons.png"},{ref:"legumes_3",category:1,name:"Radis",price:3.99,unit:"kg",image:"radis.png"},{ref:"legumes_4",name:"Tomato",category:1,price:3.99,unit:"kg",image:"tomato.png"},{ref:"legumes_5",name:"Brocolis",category:1,price:3.99,unit:"kg",image:"brocoli.png"},{ref:"legumes_6",name:"Aubergines",category:1,price:3.99,unit:"kg",image:"aubergine.png"},{ref:"legumes_7",name:"Carottes",category:1,price:2.99,unit:"kg",image:"carot.png"},{ref:"legumes_8",name:"Choux",category:1,price:1.99,unit:"kg",image:"chou.png"}],[{ref:"fresh_1",category:2,name:"Milk",price:2.99,unit:"pi\xe8ce",image:"milk.png"},{ref:"fresh_2",category:2,name:"Beurre \xe0 tartiner",price:1.99,unit:"pi\xe8ce",image:"beurre.png"},{ref:"fresh_3",category:2,name:"Oeufs",price:3.99,unit:"les douzes",image:"eggs.png"},{ref:"fresh_4",category:2,name:"Yaourts Nature",price:13.99,unit:"pi\xe8ce",image:"yaourts_nature.png"},{ref:"fresh_5",category:2,name:"Yaourts Fruits",price:10.19,unit:"pi\xe8ce",image:"yaourts_fruits.png"}],[{ref:"epicerie_1",category:3,name:"Thon",price:2.99,unit:"pi\xe8ce",image:"thon.png"},{ref:"epicerie_2",category:3,name:"Sardines",price:1.99,unit:"pi\xe8ce",image:"sardines.png"},{ref:"epicerie_3",category:3,name:"Cookies",price:3.99,unit:"pi\xe8ce",image:"cookies.png"},{ref:"epicerie_4",category:3,name:"Biscottes",price:5.99,unit:"pi\xe8ce",image:"biscottes.png"},{ref:"epicerie_5",category:3,name:"Th\xe9",price:3.59,unit:"pi\xe8ce",image:"th\xe9.png"},{ref:"epicerie_6",category:3,name:"Soupes",price:3.59,unit:"pi\xe8ce",image:"soupe.png"},{ref:"epicerie_7",category:3,name:"P\xe2tes",price:3.59,unit:"pi\xe8ce",image:"pates.png"}],[{ref:"boissons_1",category:4,name:"Vin Rouge",price:12.99,unit:"pi\xe8ce",image:"bordeaux.png"},{ref:"boissons_2",category:4,name:"Vin blanc",price:11.99,unit:"pi\xe8ce",image:"white_wine.png"},{ref:"boissons_3",category:4,name:"Riesling",price:25.99,unit:"pi\xe8ce",image:"riesling.png"},{ref:"boissons_4",category:4,name:"Coca ",price:2.49,unit:"pi\xe8ce",image:"coke.png"},{ref:"boissons_5",category:4,name:"Sprite",price:1.49,unit:"pi\xe8ce",image:"sprite.png"},{ref:"boissons_6",category:4,name:"Finley",price:1.49,unit:"pi\xe8ce",image:"finley.png"},{ref:"boissons_7",category:4,name:"Nestea",price:1.19,unit:"pi\xe8ce",image:"nestea.png"},{ref:"boissons_8",category:4,name:"Sprite",price:1.49,unit:"pi\xe8ce",image:"sprite.png"},{ref:"boissons_9",category:4,name:"Sprite Zero",price:1.49,unit:"pi\xe8ce",image:"sprite_zero.png"}]],R=function(){var e=Object(n.useState)(0),t=Object(b.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(!1),i=Object(b.a)(l,2),o=i[0],s=i[1],m=Object(n.useState)(!1),u=Object(b.a)(m,2),p=u[0],g=u[1];return r.a.createElement("div",null,r.a.createElement(y,{filter:function(e){var t=A.flat().filter(function(t){var a=t.name.toLowerCase(),n=e.toLowerCase();return a.indexOf(n)>-1});s(t)},setFiltering:g}),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement(w,{loadCategory:function(e){c(e)},category:a}),r.a.createElement(S,{grocery:p?o:A[a],category:a}))))},T=function(e){var t=e.products,a=e.saveLocalStorage;return Object(n.useEffect)(function(){a(t)},[t,a]),r.a.createElement(f.a,null,r.a.createElement(O,null,r.a.createElement(E.c,null,r.a.createElement(E.a,{path:"/",element:r.a.createElement(R,null)}),r.a.createElement(E.a,{path:"/cart",element:r.a.createElement(N,null)}),r.a.createElement(E.a,{path:"/checkout",element:r.a.createElement(x,null)}),r.a.createElement(E.a,{path:"*",element:r.a.createElement(R,null)}))))},F=Object(i.b)(function(e){return{products:e.products}},function(e){return{saveLocalStorage:function(t){return e((a=t,{type:m.SAVE_CART,payload:{product:a}}));var a}}})(T);console.log(d.getState()),d.subscribe(function(){return console.log(d.getState())})(),l.a.createRoot(document.getElementById("root")).render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(i.a,{store:d},r.a.createElement(F,null))))}},[[26,2,1]]]);
//# sourceMappingURL=main.1f5d3f05.chunk.js.map